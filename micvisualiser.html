<html>
  <head>
  </head>
  <body>
    <div id="waveform" style="height: 100%; width: 100%;">
    </div>
    <script src="wavesurfer.js"></script>
    <script src="wavesurfer.microphone.js"></script>
    <script type="">
      var height = window.innerHeight;
      console.log(height);
      var wavesurfer = WaveSurfer.create({
        container     : '#waveform',
        waveColor: '#0000FF',
        progressColor: '#FF0000',
        cursorColor: '#00FF00',
        barWidth: 5,
        barRadius: 5,
        cursorWidth: 5,
        height: height,
        barGap: 5,
        plugins: [
            WaveSurfer.microphone.create()
        ]
      });

      wavesurfer.microphone.on('deviceReady', function(stream) {
          console.log('Device ready!', stream);
      });
      wavesurfer.microphone.on('deviceError', function(code) {
          console.warn('Device error: ' + code);
      });

      // start the microphone
      wavesurfer.microphone.start();
    </script>
  </body>
</html>
