<html>
  <head>
  </head>
  <body>
    <div id="waveform" style="height: 100%; width: 100%;">
    </div>
    <script src="wavesurfer.js"></script>
    <script src="wavesurfer.microphone.js"></script>
    <script type="">
      var wavesurfer = WaveSurfer.create({
      container     : '#waveform',
      waveColor: '#D9DCFF',
      progressColor: '#4353FF',
      cursorColor: '#4353FF',
      barWidth: 3,
      barRadius: 3,
      cursorWidth: 1,
      height: 200,
      barGap: 3,
      plugins: [
          WaveSurfer.microphone.create()
        ]
      });

      wavesurfer.microphone.on('deviceReady', function(stream) {
          console.log('Device ready!', stream);
      });
      wavesurfer.microphone.on('deviceError', function(code) {
          console.warn('Device error: ' + code);
      });

      // start the microphone
      wavesurfer.microphone.start();
    </script>
  </body>
</html>
